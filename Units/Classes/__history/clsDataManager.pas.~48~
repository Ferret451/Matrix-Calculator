unit clsDataManager;

interface

uses
  Vcl.ExtCtrls, clsMatrixList, clsMatrix, untTypes;

type
  TPaintProc = procedure(Sender: TObject);

  TDataManager = class
  private
    FCurrentExpression: TFullOperation;
    FCurrentDeterminant: TFullOperation;
    FCurrentInverse: TFullOperation;
    FCurrentRank: TFullOperation;
    FOperationStatement: TOperationStatement;

    FMatrixList: TMatrixList;

    procedure SetProblemString(const AProblemString: string);
    procedure SetProblemMatrix(const AProblemString: TMatrix);
    procedure SetAnswer(const AAnswer: TAnswer);

  public
    constructor Create();
    destructor Destroy(); override;

    procedure CallBack(Sender: TObject);

    property MatrixList: TMatrixList read FMatrixList;

    property CurrentExpression: TFullOperation read FCurrentExpression;
    property CurrentDeterminant: TFullOperation read FCurrentDeterminant;
    property CurrentInverse: TFullOperation read FCurrentInverse;
    property CurrentRank: TFullOperation read FCurrentRank;
    property CurrentProblemString: string write SetProblemString;
    property CurrentProblemMatrix: TMatrix write SetProblemMatrix;
    property CurrentAnswer: TAnswer write SetAnswer;

    property OperationStatement: TOperationStatement read FOperationStatement
      write FOperationStatement;
  end;

var
  DataManager: TDataManager;

implementation

constructor TDataManager.Create();
begin
  FMatrixList := TMatrixList.Create();
end;

destructor TDataManager.Destroy();
begin
  FMatrixList.Destroy();

  inherited;
end;

procedure TDataManager.CallBack(Sender: TObject);
begin
  TPaintBox(Sender).OnPaint(TPaintBox(Sender));;
end;

procedure TDataManager.SetProblemString(const AProblemString: string);
begin
  FCurrentExpression.FProblemString := AProblemString;
end;

procedure TDataManager.SetAnswer(const AAnswer: TAnswer);
begin
  FCurrentExpression.FAnswer := AAnswer;
end;

end.
